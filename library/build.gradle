ext.module_name = "vvalidator"
apply plugin: "com.android.library"
apply plugin: "kotlin-android"
//apply from: rootProject.file("gradle/android_library_config.gradle")
apply plugin: 'maven-publish'

group = 'com.nopol10.vvalidator'
version = '0.5.6'

android {
  compileSdkVersion 30
  buildToolsVersion "29.0.3"

  compileOptions {
    sourceCompatibility 1.8
    targetCompatibility 1.8
  }

  defaultConfig {
    minSdkVersion 16
    targetSdkVersion 30
    versionCode 24
    versionName '0.5.6'
  }

  kotlinOptions {
    jvmTarget = '1.8'
  }

  sourceSets {
    main.res.srcDirs = [
        "src/main/res",
        "src/main/res-public"
    ]
  }
}

afterEvaluate {
  publishing {
    publications {
      // Creates a Maven publication called "release".
      release(MavenPublication) {
        // Applies the component for the release build variant.
        from components.release

        // You can then customize attributes of the publication as shown below.
        groupId = 'com.nopol10.vvalidator'
        artifactId = 'vvalidator'
        version = '0.5.6'
      }
    }
  }
}

dependencies {
  implementation deps.androidx.annotations
  implementation deps.androidx.core
  implementation deps.google_material
  implementation deps.kotlin.stdlib8
  implementation "androidx.core:core-ktx:1.3.2"

  testImplementation deps.androidx.test
  testImplementation deps.kotlin.test.mockito
  testImplementation deps.test.junit
  testImplementation deps.test.mockito_core
  testImplementation deps.test.robolectric
  implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
}

repositories {
  mavenCentral()
}
